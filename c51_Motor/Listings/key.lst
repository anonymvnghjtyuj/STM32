C51 COMPILER V9.54   KEY                                                                   04/22/2023 09:11:29 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE KEY
OBJECT MODULE PLACED IN .\Objects\key.obj
COMPILER INVOKED BY: D:\MDK\C51\BIN\C51.EXE HandWare\key\key.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\HandWare;.\HandWare\key
                    -;.\HandWare\delay;.\HandWare\Digital_tube;.\HandWare\led;.\HandWare\Motor;.\HandWare\timer) DEBUG OBJECTEXTEND PRINT(.\L
                    -istings\key.lst) TABS(2) OBJECT(.\Objects\key.obj)

line level    source

   1          #include "stdio.h"
   2          #include "reg51.h"
   3          #include "INTRINS.H"
   4          #include "key.h"
   5          #include "delay.h"
   6          
   7          
   8          sbit key_dir = P1^5;
   9          sbit key_on = P1^4;
  10          sbit key_inc = P1^7;  //  Ôö¼Ó
  11          sbit key_dec = P1^6;  //  ¼õÉÙ
  12          
  13          int Key1_time = 0;
  14          int Key2_time = 0;
  15          int Add_Value = 0;
  16          int Reduce_Value = 0;
  17          
  18          unsigned int Key_scan(void)
  19          {
  20   1          
  21   1            if(key_on == 0)
  22   1            {
  23   2              delay(10000);
  24   2              if(key_on == 0)
  25   2              {
  26   3                  Key1_time ++;
  27   3                if(Key1_time == 1)
  28   3                {
  29   4                  return 1;
  30   4                }
  31   3                else if(Key1_time == 2)
  32   3                {
  33   4                  return 2;
  34   4                }
  35   3                else if(Key1_time >= 3)
  36   3                {
  37   4                  Key1_time = 1;
  38   4                  return 1;
  39   4                }
  40   3              }
  41   2            }
  42   1            
  43   1          else   if(key_dir == 0)
  44   1            {
  45   2              delay(10000);
  46   2              if(key_dir == 0)
  47   2              {
  48   3                 Key2_time ++;
  49   3                if(Key2_time == 1)
  50   3                {
  51   4                  return 3;
  52   4                }
  53   3                else if(Key2_time == 2)
C51 COMPILER V9.54   KEY                                                                   04/22/2023 09:11:29 PAGE 2   

  54   3                {
  55   4                  return 4;
  56   4                }
  57   3                else if(Key2_time > 3)
  58   3                {
  59   4                  Key2_time = 1;
  60   4                  return 3;
  61   4                }
  62   3              }
  63   2            }
  64   1            
  65   1            if(key_inc == 0)
  66   1            {
  67   2              delay(10000);
  68   2              if(key_inc == 0)
  69   2              {
  70   3                  Add_Value = 1;
  71   3                  return 5;
  72   3              }
  73   2            }
  74   1            
  75   1            if(key_dec == 0)
  76   1            {
  77   2              delay(10000);
  78   2              if(key_dec == 0)
  79   2              {
  80   3                  Reduce_Value = 1;
  81   3                  return 6;
  82   3              }
  83   2            }
  84   1            
  85   1          return 0;
  86   1        
  87   1      }
  88          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    186    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

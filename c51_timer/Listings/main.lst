C51 COMPILER V9.54   MAIN                                                                  04/08/2023 09:22:29 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\MDK\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\HandWare;.\HandWare\key;.\HandWare\
                    -timer;.\HandWare\delay;.\HandWare\Digital_tube;.\HandWare\led) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJ
                    -ECT(.\Objects\main.obj)

line level    source

   1          #include "reg51.h"
   2          #include <INTRINS.H>
   3          #include "led.h"
   4          #include "key.h"
   5          #include "delay.h"
   6          #include "Digital_tube.h"
   7          #include "timer.h"
   8          
   9          extern int Key1_status;
  10          extern int Key2_status;
  11          extern int Add_value;
  12          extern int key_time;
  13          int Setting_status=0;
  14          
  15          void main()
  16          {
  17   1        unchar code discodes[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90}; //  0~9µÄÊý×Ö¶ÎÂë±í£¬²»´øÐ¡Êýµ
             -ã
  18   1        int i,j=0x80;
  19   1        int key_value;
  20   1        int change_value = 0;
  21   1        int select_value =0 ;
  22   1        key_scan();
  23   1        Timer_Init();
  24   1        key_Init();
  25   1        
  26   1        
  27   1        while(1)
  28   1        {
  29   2          
  30   2          if(Key2_status==1)
  31   2          {
  32   3            
  33   3            while(1)
  34   3            {
  35   4              key_value = key_scan();
  36   4              if(key_value==4)
  37   4              {
  38   5                Setting_status ++;
  39   5                if(Setting_status > 4)
  40   5                {
  41   6                  Setting_status = 0;
  42   6                }
  43   5                select_value = 0;
  44   5                change_value = 0;
  45   5              }
  46   4                
  47   4              else if(key_value == 3)
  48   4              {
  49   5                  select_value ++;
  50   5                  if(select_value >= 3)
  51   5                  {
  52   6                    select_value = 1;
C51 COMPILER V9.54   MAIN                                                                  04/08/2023 09:22:29 PAGE 2   

  53   6                  }
  54   5              }
  55   4              else if(key_value == 1)
  56   4              {
  57   5                  change_value +=1;
  58   5              }
  59   4              else if(key_value == 2)
  60   4              {
  61   5                  change_value -=1;
  62   5              }
  63   4                  
  64   4              Show_date(Setting_status,select_value,change_value);
  65   4              Key2_status=0;
  66   4              if(Key1_status==1)
  67   4              {
  68   5                break;
  69   5              }
  70   4            }
  71   3              
  72   3          }
  73   2          
  74   2      
  75   2          if(Key1_status==1)
  76   2          {
  77   3            TR0=1;
  78   3            while(1)
  79   3            {
  80   4              if(key_time==3)  // µÚÈý´Î°´ÏÂµÄÊ±ºò£¬°´¼ü´ÎÊýÇåÁã£¬Ê±¼äÇåÁã
  81   4              {
  82   5                for(i=0;i<8;i++)
  83   5                {
  84   6                  j = _crol_(j,1);
  85   6                  if(j == 0x02 || j == 0x10)
  86   6                  {
  87   7                    P0=0xbf;
  88   7                  }
  89   6                  if(j == 0x04)
  90   6                  {
  91   7                    P0 = 0xc0;
  92   7                  }
  93   6                  else
  94   6                  {
  95   7                    P0 = 0xc0;
  96   7                  } 
  97   6                  delay(100);
  98   6                }
  99   5                
 100   5                key_time=0;
 101   5                Add_value=0;
 102   5              }
 103   4              Show_time(key_time,Add_value);//P2=discodes[Add_value];//Show_time(1,100);
 104   4              Key1_status=0;
 105   4              if(Key2_status==1)
 106   4              {
 107   5                break;
 108   5              }
 109   4            }
 110   3          }
 111   2            
 112   2        }
 113   1          
 114   1      }
C51 COMPILER V9.54   MAIN                                                                  04/08/2023 09:22:29 PAGE 3   

*** WARNING C280 IN LINE 17 OF main.c: 'discodes': unreferenced local variable
 115          
 116          
 117          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    302    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
